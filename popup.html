<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <meta charset="UTF-8" />
  </head>
  <body>
    <div class="header">
      <h1>gatorlator</h1>
      <div class="utility-cluster">
        <button class="utility-btn" id="ccBtn" title="Toggle Subtitles">
          cc
        </button>
        <button class="utility-btn" id="helpBtn" title="Help">[!]</button>
        <button class="utility-btn" id="settingsBtn" title="Settings">⚙</button>
      </div>
    </div>

    <div class="section">
      <label for="targetLang">your language</label>
      <div class="select-wrapper">
        <select id="targetLang" required>
          <option value="" disabled selected>select language</option>
          <option value="ar">العربية (Arabic)</option>
          <option value="yue">廣東話 (Cantonese)</option>
          <option value="zh">中文 (Mandarin Chinese)</option>
          <option value="fr">Français (French)</option>
          <option value="de">Deutsch (German)</option>
          <option value="hi">हिन्दी (Hindi)</option>
          <option value="ko">한국어 (Korean)</option>
          <option value="pt">Português (Portuguese)</option>
          <option value="ru">Русский (Russian)</option>
          <option value="es">Español (Spanish)</option>
        </select>
      </div>
    </div>

    <button class="button" id="toggleTranslation">start translation</button>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settingsPanel">
      <div class="settings-content">
        <div class="settings-header">
          <div class="settings-title">settings</div>
          <button class="close-btn" id="closeSettingsBtn">×</button>
        </div>

        <div class="api-section">
          <div class="api-section-title">Deepgram Configuration</div>
          <label for="deepgramApiKey">Deepgram API Key</label>
          <input
            type="password"
            id="deepgramApiKey"
            placeholder="Your API key..."
          />
          <div class="api-help">
            Get your key from
            <a href="https://deepgram.com/" target="_blank">Deepgram</a>
            <br />Required for transcription, translation, and TTS
          </div>

          <label for="deepgramApiUrl" style="margin-top: 12px; display: block"
            >API Base URL (Optional)</label
          >
          <input
            type="text"
            id="deepgramApiUrl"
            placeholder="https://deepgram.com/"
          />
          <div class="api-help">
            Leave empty to use default Deepgram endpoint
            <br />Or enter your custom Deepgram server URL
          </div>

          <label for="model" style="margin-top: 12px; display: block"
            >Model (Optional)</label
          >
          <input type="text" id="model" placeholder="gpt-4o-mini" />
          <div class="api-help">
            Model to use for translation (default: gpt-4o-mini)
          </div>
        </div>

        <div class="api-section">
          <div class="api-section-title">Audio Output</div>
          <div class="toggle">
            <span class="toggle-label">Enable Audio Output</span>
            <label class="switch">
              <input type="checkbox" id="enableAudioOutput" checked />
              <span class="slider"></span>
            </label>
          </div>
          <div class="api-help">
            Play translated audio alongside subtitles using Deepgram TTS
          </div>
        </div>

        <button class="button secondary" id="saveSettingsBtn">
          Save Settings
        </button>
      </div>
    </div>

    <!-- Help Panel -->
    <div class="help-panel" id="helpPanel">
      <div class="help-content">
        <div class="settings-header">
          <div class="help-title">about</div>
          <button class="close-btn" id="closeHelpBtn">×</button>
        </div>
        <div class="help-text" style="margin-top: 16px">
          gatorlator provides real-time translation for audio content.
          <br /><br />
          Select your target language and click "start translation" to begin.
          <br /><br />
          Use the cc button to toggle subtitle display on or off. Subtitles are
          optional and do not affect translation functionality.
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
